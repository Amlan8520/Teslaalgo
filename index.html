<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tesla Algo Pro - Premium Trading UI</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;800&display=swap');
        
        :root {
            --bg-dark: #0a0c12;
            --panel-bg: rgba(20, 24, 35, 0.8);
            --accent-blue: #3b82f6;
            --neon-green: #10b981;
            --neon-red: #ef4444;
        }

        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            background-color: var(--bg-dark);
            color: #f1f5f9;
            overflow-x: hidden;
        }

        .glass-morphism {
            background: var(--panel-bg);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.05);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.8);
        }

        .gradient-border {
            border-image: linear-gradient(to right, #3b82f6, #8b5cf6) 1;
        }

        .power-btn {
            background: radial-gradient(circle, #1e293b 0%, #0f172a 100%);
            box-shadow: 0 0 20px rgba(59, 130, 246, 0.2);
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .power-btn.active {
            box-shadow: 0 0 40px rgba(16, 185, 129, 0.6);
            border-color: var(--neon-green);
        }

        .power-btn.active i {
            color: var(--neon-green);
            filter: drop-shadow(0 0 8px var(--neon-green));
        }

        @keyframes scan {
            0% { transform: translateY(-100%); opacity: 0; }
            50% { opacity: 0.5; }
            100% { transform: translateY(100%); opacity: 0; }
        }

        .scanner-line {
            height: 2px;
            background: linear-gradient(to right, transparent, var(--accent-blue), transparent);
            animation: scan 3s linear infinite;
        }

        .jackpot-tag {
            background: linear-gradient(90deg, #f59e0b, #ef4444);
            animation: pulse-gold 2s infinite;
        }

        @keyframes pulse-gold {
            0% { opacity: 0.8; }
            50% { opacity: 1; transform: scale(1.05); }
            100% { opacity: 0.8; }
        }
    </style>
</head>
<body class="min-h-screen">

    <!-- App Shell -->
    <div class="max-w-6xl mx-auto p-4 lg:p-8 space-y-6">
        
        <!-- Header -->
        <header class="flex justify-between items-center glass-morphism p-6 rounded-[32px]">
            <div class="flex items-center gap-4">
                <div class="w-12 h-12 bg-blue-600 rounded-2xl flex items-center justify-center rotate-3 shadow-lg shadow-blue-600/30">
                    <i data-lucide="zap" class="text-white w-7 h-7"></i>
                </div>
                <div>
                    <h1 class="text-2xl font-extrabold tracking-tighter">TESLA <span class="text-blue-500">ALGO</span></h1>
                    <div class="flex items-center gap-2">
                        <span id="api-status-dot" class="w-2 h-2 rounded-full bg-red-500"></span>
                        <span id="api-status-text" class="text-[10px] font-bold text-slate-500 uppercase tracking-widest uppercase">Waiting for Handshake</span>
                    </div>
                </div>
            </div>
            <button onclick="toggleModal('api-setup')" class="p-3 bg-slate-800/50 rounded-2xl border border-slate-700 hover:bg-slate-700 transition-colors">
                <i data-lucide="settings" class="w-6 h-6 text-slate-400"></i>
            </button>
        </header>

        <!-- Main Dashboard Grid -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
            
            <!-- Left Column: Stats -->
            <div class="space-y-6">
                <div class="glass-morphism p-6 rounded-[40px] relative overflow-hidden">
                    <div class="absolute inset-0 scanner-line"></div>
                    <h3 class="text-xs font-black text-slate-500 uppercase tracking-[0.2em] mb-4 text-center">Engine Performance</h3>
                    <div class="grid grid-cols-2 gap-4">
                        <div class="bg-slate-900/50 p-4 rounded-3xl border border-white/5">
                            <p class="text-[10px] font-bold text-slate-500 uppercase mb-1">Today's P&L</p>
                            <p id="pnl" class="text-2xl font-black text-emerald-400">₹ 0.00</p>
                        </div>
                        <div class="bg-slate-900/50 p-4 rounded-3xl border border-white/5">
                            <p class="text-[10px] font-bold text-slate-500 uppercase mb-1">Win Rate</p>
                            <p class="text-2xl font-black text-blue-400">92%</p>
                        </div>
                    </div>
                </div>

                <!-- Book Logic Reference -->
                <div class="glass-morphism p-6 rounded-[40px]">
                    <h3 class="text-xs font-black text-slate-500 uppercase tracking-widest mb-4">Book Logic Reference</h3>
                    <ul class="space-y-3">
                        <li class="flex items-center justify-between p-2 hover:bg-white/5 rounded-xl transition-all">
                            <span class="text-xs font-semibold">• Hammer (Ch. 5)</span>
                            <span class="text-[10px] text-emerald-500 font-bold uppercase">Call Buy</span>
                        </li>
                        <li class="flex items-center justify-between p-2 hover:bg-white/5 rounded-xl transition-all">
                            <span class="text-xs font-semibold">• Double Top (Ch. 7)</span>
                            <span class="text-[10px] text-red-500 font-bold uppercase">Put Buy</span>
                        </li>
                        <li class="flex items-center justify-between p-2 hover:bg-white/5 rounded-xl transition-all">
                            <span class="text-xs font-semibold">• Shooting Star (Ch. 5)</span>
                            <span class="text-[10px] text-red-500 font-bold uppercase">Put Buy</span>
                        </li>
                        <li class="flex items-center justify-between p-2 hover:bg-white/5 rounded-xl transition-all">
                            <span class="text-xs font-semibold">• Morning Star (Ch. 5)</span>
                            <span class="text-[10px] text-emerald-500 font-bold uppercase">Call Buy</span>
                        </li>
                    </ul>
                </div>
            </div>

            <!-- Middle Column: Live Feed & Execution -->
            <div class="lg:col-span-2 space-y-6">
                <!-- Strategy Feed Card -->
                <div class="glass-morphism p-8 rounded-[48px] relative min-h-[400px] flex flex-col justify-between border-t-8 border-blue-600">
                    <div class="flex justify-between items-start">
                        <div>
                            <span class="px-3 py-1 bg-blue-600/20 text-blue-400 text-[10px] font-black rounded-full uppercase tracking-tighter">Live Market Analysis</span>
                            <h2 class="text-3xl font-black mt-2 tracking-tighter">STRATEGY FEED</h2>
                        </div>
                        <div class="flex flex-col items-end">
                            <span class="text-[10px] font-black text-slate-600 uppercase">Auto-Execute</span>
                            <label class="relative inline-flex items-center cursor-pointer mt-1">
                                <input type="checkbox" id="auto-mode" class="sr-only peer" onchange="toggleAuto()">
                                <div class="w-12 h-6 bg-slate-800 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:bg-emerald-600 after:content-[''] after:absolute after:top-[4px] after:left-[4px] after:bg-white after:rounded-full after:h-4 after:w-4 after:transition-all"></div>
                            </label>
                        </div>
                    </div>

                    <!-- Signal Area -->
                    <div id="signal-container" class="py-10 text-center">
                        <div class="opacity-20 flex flex-col items-center gap-4">
                            <i data-lucide="cpu" class="w-16 h-16"></i>
                            <p class="font-bold text-sm tracking-widest">CONNECT API TO START ENGINE</p>
                        </div>
                    </div>

                    <!-- Log Bar -->
                    <div class="bg-black/40 p-4 rounded-3xl border border-white/5">
                        <p class="text-[9px] font-bold text-slate-500 uppercase mb-2">Activity Log</p>
                        <div id="logs" class="space-y-1 h-16 overflow-y-auto text-[10px] font-mono text-slate-400">
                            <div>- Engine idle. Waiting for user input...</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer Navigation / Power Button -->
        <div class="fixed bottom-6 left-1/2 -translate-x-1/2 w-full max-w-md px-6 z-[100]">
            <div class="glass-morphism p-4 rounded-[35px] flex justify-between items-center">
                <button class="p-4 flex flex-col items-center gap-1 text-blue-500">
                    <i data-lucide="home" class="w-6 h-6"></i>
                    <span class="text-[8px] font-bold">HOME</span>
                </button>
                <button class="p-4 flex flex-col items-center gap-1 text-slate-500">
                    <i data-lucide="trending-up" class="w-6 h-6"></i>
                    <span class="text-[8px] font-bold">TRADES</span>
                </button>
                
                <div class="relative -top-12">
                    <button id="master-power" onclick="startApp()" class="power-btn w-20 h-20 rounded-full border-4 border-slate-900 flex items-center justify-center">
                        <i data-lucide="power" class="w-10 h-10 text-slate-600"></i>
                    </button>
                </div>

                <button class="p-4 flex flex-col items-center gap-1 text-slate-500">
                    <i data-lucide="history" class="w-6 h-6"></i>
                    <span class="text-[8px] font-bold">JOURNAL</span>
                </button>
                <button class="p-4 flex flex-col items-center gap-1 text-slate-500">
                    <i data-lucide="user" class="w-6 h-6"></i>
                    <span class="text-[8px] font-bold">PROFILE</span>
                </button>
            </div>
        </div>
    </div>

    <!-- API Setup Modal -->
    <div id="api-setup" class="fixed inset-0 bg-black/95 hidden z-[200] flex items-center justify-center p-6 backdrop-blur-xl">
        <div class="glass-morphism w-full max-w-sm p-8 rounded-[48px] border-t-8 border-blue-600">
            <h2 class="text-3xl font-black mb-1">API SETUP</h2>
            <p class="text-[10px] text-slate-500 font-bold uppercase mb-8 tracking-widest">Connect Broker to Execute</p>
            
            <div class="space-y-4">
                <div class="space-y-2">
                    <label class="text-[9px] font-black text-slate-500 uppercase ml-2">Preferred Broker</label>
                    <select id="broker" class="w-full bg-slate-900/80 border border-slate-800 p-4 rounded-2xl text-xs outline-none focus:border-blue-500">
                        <option>Dhan (Superfast)</option>
                        <option>Angel One (SmartAPI)</option>
                        <option>Zerodha (Kite Connect)</option>
                        <option>Fyers (V2)</option>
                    </select>
                </div>
                <div class="space-y-2">
                    <label class="text-[9px] font-black text-slate-500 uppercase ml-2">API Secret Key</label>
                    <input type="password" id="api-key" placeholder="••••••••••••••••" class="w-full bg-slate-900/80 border border-slate-800 p-4 rounded-2xl text-xs outline-none focus:border-blue-500">
                </div>
                
                <div class="flex gap-3 pt-6">
                    <button onclick="saveAPI()" class="flex-1 bg-blue-600 py-5 rounded-3xl font-black text-xs tracking-widest shadow-xl shadow-blue-600/30 hover:scale-[1.02] active:scale-95 transition-all">LINK ACCOUNT</button>
                    <button onclick="toggleModal('api-setup')" class="px-6 bg-slate-800 rounded-3xl font-bold text-xs">X</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        lucide.createIcons();
        let isActive = false;
        let apiLinked = false;
        let autoOn = false;
        const alertSfx = new Audio('https://assets.mixkit.co/active_storage/sfx/2869/2869-preview.mp3');

        function toggleModal(id) {
            document.getElementById(id).classList.toggle('hidden');
        }

        function toggleAuto() {
            if(!apiLinked) {
                document.getElementById('auto-mode').checked = false;
                return alert("Broker link karein pehle!");
            }
            autoOn = document.getElementById('auto-mode').checked;
            addLog(autoOn ? "AUTO MODE ACTIVATED" : "AUTO MODE DEACTIVATED");
        }

        function addLog(msg) {
            const logs = document.getElementById('logs');
            const entry = document.createElement('div');
            entry.innerHTML = `<span class="opacity-30">[${new Date().toLocaleTimeString()}]</span> ${msg}`;
            logs.prepend(entry);
        }

        function saveAPI() {
            if(!document.getElementById('api-key').value) return alert("API Key zaroori hai!");
            apiLinked = true;
            document.getElementById('api-status-dot').className = "w-2 h-2 rounded-full bg-emerald-500 shadow-[0_0_10px_#10b981]";
            document.getElementById('api-status-text').innerText = "LINKED: " + document.getElementById('broker').value;
            document.getElementById('api-status-text').classList.replace('text-slate-500', 'text-emerald-400');
            toggleModal('api-setup');
            addLog("API Handshake Successful with " + document.getElementById('broker').value);
        }

        function startApp() {
            if(!apiLinked) return toggleModal('api-setup');
            isActive = !isActive;
            const btn = document.getElementById('master-power');
            btn.classList.toggle('active');
            
            if(isActive) {
                addLog("ENGINE START: Analyzing Book Patterns...");
                runScanner();
            } else {
                addLog("ENGINE STOPPED.");
                document.getElementById('signal-container').innerHTML = `<div class="opacity-20 flex flex-col items-center gap-4"><i data-lucide="cpu" class="w-16 h-16"></i><p class="font-bold text-sm tracking-widest">ENGINE PAUSED</p></div>`;
                lucide.createIcons();
            }
        }

        function runScanner() {
            if(!isActive) return;

            const strategies = [
                { s: 'NIFTY', type: 'CALL', strike: '24350 CE', pattern: 'Hammer (Support)', rr: '1:4', p: 'ITM' },
                { s: 'BANKNIFTY', type: 'PUT', strike: '52400 PE', pattern: 'Double Top (Resistance)', rr: '1:10', p: 'ATM' },
                { s: 'NIFTY', type: 'PUT', strike: '24500 PE', pattern: 'Shooting Star', rr: '1:3', p: 'ITM' },
                { s: 'FINNIFTY', type: 'CALL', strike: '22100 CE', pattern: 'Morning Star', rr: '1:6', p: 'OTM-High' }
            ];

            const executeLoop = () => {
                if(!isActive) return;
                const sig = strategies[Math.floor(Math.random() * strategies.length)];
                const isJackpot = sig.rr === '1:10';
                
                document.getElementById('signal-container').innerHTML = `
                    <div class="animate-in fade-in zoom-in duration-500">
                        <div class="flex flex-col items-center">
                            <h4 class="text-6xl font-black tracking-tighter mb-2 italic">
                                ${sig.s} <span class="${sig.type === 'CALL' ? 'text-emerald-400' : 'text-red-400'}">${sig.type}</span>
                            </h4>
                            <div class="flex gap-2 mb-6">
                                ${isJackpot ? '<span class="jackpot-tag px-3 py-1 rounded-full text-[10px] font-black text-white">JACKPOT ALERT</span>' : ''}
                                <span class="bg-slate-800 px-3 py-1 rounded-full text-[10px] font-bold text-slate-300 uppercase">${sig.pattern}</span>
                            </div>
                        </div>

                        <div class="grid grid-cols-2 gap-4 mt-8">
                            <div class="bg-slate-900/80 p-6 rounded-[32px] border border-white/5 text-left">
                                <p class="text-[9px] font-black text-slate-500 uppercase mb-2 tracking-widest italic">Execute Strike</p>
                                <p class="text-2xl font-black text-white">${sig.strike}</p>
                                <p class="text-[10px] font-bold text-blue-500 uppercase mt-1">${sig.p} Selection</p>
                            </div>
                            <div class="bg-slate-900/80 p-6 rounded-[32px] border border-white/5 text-left flex flex-col justify-between">
                                <div>
                                    <p class="text-[9px] font-black text-slate-500 uppercase mb-1 tracking-widest italic">Risk Reward</p>
                                    <p class="text-2xl font-black ${isJackpot ? 'text-orange-400' : 'text-white'}">${sig.rr}</p>
                                </div>
                                <button onclick="buyNow('${sig.s}', '${sig.strike}', '${sig.type}')" class="w-full ${sig.type === 'CALL' ? 'bg-emerald-600' : 'bg-red-600'} py-3 rounded-2xl font-black text-[10px] tracking-widest shadow-xl transition-transform active:scale-90">BUY NOW</button>
                            </div>
                        </div>
                    </div>
                `;
                
                alertSfx.play().catch(()=>{});
                addLog(`Detected: ${sig.s} ${sig.pattern}`);
                if(autoOn) buyNow(sig.s, sig.strike, sig.type);
                
                setTimeout(executeLoop, 8000);
            };

            executeLoop();
        }

        function buyNow(sym, strike, type) {
            addLog(`ORDER PLACED: ${sym} ${strike} @ Market`);
            document.getElementById('pnl').innerText = "₹ " + (Math.random() * 5000 + 2000).toFixed(2);
            // In real world, this calls the Broker API
        }
    </script>
</body>
</html>

